  mode: segmentation
  logdir: /content/logs/segmentation/
  train_csv_path: /content/train.csv
  sample_sub_csv_path: /content/sample_submission.csv

  io_params:
    image_folder: /content/train_images
    masks_folder: /content/masks
    df_setup_type: regular
    test_size: 0.2
    split_seed: 200
    batch_size: 18
    num_workers: 2
    aug_key: aug1

  loss: bce_dice_loss
  num_epochs: 17

  model_params:
    encoder: se_resnext50_32x4d
    decoder: unet # fpn
      unet:
        attention_type: ~ # scse
        decoder_use_batchnorm: True # inplace for InplaceABN
      fpn:
        dropout: 0.2

  opt_params:
    opt: sgd
    lr: 0.001
    scheduler_params:
      scheduler: plateau
      plateau:
        factor: 0.15
        patience: 2
      # cosineannealing:
      #   T_max: 17
      # cosineannealingwr:
      #   T_0: 7
      #   T_mult: 2
      # clr:
      #   base_lr: 0.0001
      #   max_lr: 0.001
      #   step_size_up: 494
      #   mode: exp_range

  callback_params:
    earlystop:
      patience: 5
      min_delta: 0.001
    accuracy:
      threshold: 0.5
      activation: Sigmoid
    checkpoint_params:
      checkpoint_path: ~ # <- tilde for None /contents/logs/segmentation/best.pth
      checkpoint_mode: model_only
